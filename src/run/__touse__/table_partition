CREATE TABLE proj_meta (
	proj_id				int NOT NULL PRIMARY KEY,
	path_on_host		string NOT NULL,
	source_url			string NOT NULL,
	source_branch		string NOT NULL,
	source_vcs_type		string NOT NULL,
	need_pull			bool NOT NULL
);

CREATE TABLE dp_log (
	proj_id				int NOT NULL,  /* 项目 ID */
	rev_sig				string NOT NULL,  /* 布署的目标版本号 */
	cache_id			bigint NOT NULL,  /* 用作目标机状态确认的标识之一 */
	time_stamp			bigint NOT NULL,  /* 开始布署的时间(UNIX 时间戳) */
	time_limit			smallint NOT NULL DEFAULT 0,  /* 布署超时限制(单位：秒) */
	res					smallint NOT NULL DEFAULT -1,  /* 全局整体布署结果 */
	host_ip				string NOT NULL,  /* 单台目标机 ip 地址 */
	host_res			smallint NOT NULL DEFAULT -1,  /* 单台目标机的布署结果 */
	host_timespent		smallint NOT NULL DEFAULT 0,  /* 单台目标机的实际布署耗时 */
	host_errno			int NOT NULL DEFAULT 0,  /* 单台目标机布署结果的最终状态码，若为 0，则 host_detail 字段为空 */
	host_detail			string
) PARTITION BY LIST (proj_id);


CREATE TABLE dp_log_<proj_id> PARTITION OF dp_log FOR VALUES IN (<proj_id>) PARTITION BY RANGE (time_stamp);
CREATE TABLE dp_log_<proj_id>_201701 partition of dp_log_<proj_id> for values from (MINVALUE) to (time(NULL));

创建项目时的第一个区间: MINVALUE --> time(NULL) / 1000000 + 1
时间序列分区间隔 100万 秒，约 12 天时间
启动时创建 10 张表
另，单独线程每间隔 90万 秒尝试创建后续的 10 张表
如此，频繁重启或一直不重启，均能保证有效的表存在
